<!DOCTYPE html>
<html lang="zh-TW" class="dark">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>è¨ˆç®—æ©Ÿæ¦‚è«–ï¼šè¨ˆé‡å–®ä½èˆ‡ç¸®å¯« | äº’å‹•å‚™è€ƒæŒ‡å—</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script>
        tailwind.config = {
            darkMode: 'class',
            theme: {
                extend: {
                    colors: {
                        slate: {
                            850: '#1e293b', // Custom darker slate
                        },
                        primary: {
                            400: '#22d3ee', // Cyan 400
                            500: '#06b6d4', // Cyan 500
                            600: '#0891b2', // Cyan 600
                            900: '#164e63', // Cyan 900
                        }
                    },
                    fontFamily: {
                        mono: ['ui-monospace', 'SFMono-Regular', 'Menlo', 'Monaco', 'Consolas', "Liberation Mono", "Courier New", 'monospace'],
                    }
                }
            }
        }
    </script>
    <style>
        /* Custom Utilities */
        .no-scrollbar::-webkit-scrollbar {
            display: none;
        }
        .no-scrollbar {
            -ms-overflow-style: none;
            scrollbar-width: none;
        }
        
        /* 3D Flip Card Styles */
        .perspective-1000 {
            perspective: 1000px;
        }
        .transform-style-3d {
            transform-style: preserve-3d;
        }
        .backface-hidden {
            backface-visibility: hidden;
        }
        .rotate-y-180 {
            transform: rotateY(180deg);
        }
        
        /* Smooth transitions for heights */
        .transition-max-height {
            transition: max-height 0.3s ease-in-out;
        }

        /* Scientific Notation Superscript Fix */
        sup {
            font-size: 0.75em;
            vertical-align: super;
        }
    </style>
</head>
<body class="bg-slate-900 text-slate-200 font-sans antialiased min-h-screen selection:bg-primary-500 selection:text-white">

    <div class="max-w-4xl mx-auto px-4 py-8 space-y-12">

        <header class="space-y-4 border-b border-slate-700 pb-6">
            <div class="flex items-center space-x-2 text-primary-400">
                <span class="px-2 py-1 rounded bg-primary-900/30 text-xs font-bold tracking-wider uppercase border border-primary-500/30">Chapter 1</span>
                <span class="text-sm font-mono opacity-80">Computer Fundamentals</span>
            </div>
            <h1 class="text-3xl md:text-4xl font-bold tracking-tight text-white">
                è¨ˆé‡å–®ä½èˆ‡ç¸®å¯«ï¼š<span class="text-primary-400">é€Ÿåº¦èˆ‡å®¹é‡çš„æ¨™æº–èªè¨€</span>
            </h1>
            <p class="text-slate-400 text-lg leading-relaxed max-w-2xl">
                æœ¬ç« ä¸åªæ˜¯å–®ä½æ›ç®—ï¼Œè€Œæ˜¯å»ºç«‹å°é›»è…¦ã€Œæ¥µå¿«é€Ÿåº¦ã€èˆ‡ã€Œæ¥µå¤§å®¹é‡ã€çš„ç›´è¦ºæ„ŸçŸ¥ã€‚
            </p>
        </header>

        <section id="strategic-dashboard" class="space-y-6 animate-fade-in">
            <div class="grid grid-cols-1 md:grid-cols-3 gap-6">
                <div class="md:col-span-3 bg-gradient-to-r from-slate-800 to-slate-850 p-6 rounded-xl border-l-4 border-primary-500 shadow-lg">
                    <h3 class="text-xs font-bold text-slate-400 uppercase tracking-widest mb-2">ç« ç¯€å®šä½</h3>
                    <p id="position-text" class="text-lg font-medium text-white italic">
                        </p>
                    <div class="mt-4 flex flex-wrap gap-2 text-sm text-slate-400">
                        <span class="flex items-center"><span class="w-2 h-2 rounded-full bg-slate-500 mr-2"></span>å‰ç½®ï¼š<span id="prereq-list" class="ml-1 text-slate-300"></span></span>
                        <span class="hidden md:inline mx-2 text-slate-600">|</span>
                        <span class="flex items-center"><span class="w-2 h-2 rounded-full bg-primary-500 mr-2"></span>å¾ŒçºŒï¼š<span id="downstream-list" class="ml-1 text-primary-300"></span></span>
                    </div>
                </div>

                <div class="md:col-span-2 bg-slate-800 p-6 rounded-xl shadow-md border border-slate-700">
                    <div class="flex justify-between items-center mb-4">
                        <h3 class="text-sm font-bold text-slate-300 uppercase">è€ƒè©¦é‡é»åˆ†ä½ˆ</h3>
                        <span class="text-xs px-2 py-0.5 rounded bg-slate-700 text-slate-400 border border-slate-600">Estimate</span>
                    </div>
                    <div id="weight-chart" class="space-y-4">
                        </div>
                </div>

                <div class="bg-slate-800 p-6 rounded-xl shadow-md border border-slate-700 flex flex-col">
                    <h3 class="text-sm font-bold text-slate-300 uppercase mb-4">é—œéµå­—é€è¦–</h3>
                    <div id="keyword-container" class="flex flex-wrap gap-2 mb-4">
                        </div>
                    <div id="keyword-detail" class="mt-auto p-3 bg-slate-900/50 rounded-lg border border-slate-700/50 text-sm hidden">
                        <p class="font-bold text-primary-400 mb-1" id="kw-term"></p>
                        <p class="text-slate-300 mb-2" id="kw-why"></p>
                        <div class="flex items-start gap-2 text-xs text-slate-400 bg-slate-800 p-2 rounded">
                            <span class="shrink-0 text-primary-500">âœ</span>
                            <span id="kw-angle"></span>
                        </div>
                    </div>
                    <p id="keyword-placeholder" class="mt-auto text-sm text-slate-500 text-center py-2">é»æ“Šä¸Šæ–¹æ¨™ç±¤æŸ¥çœ‹è©³è§£</p>
                </div>
            </div>
        </section>

        <section id="core-concept-lab" class="space-y-6">
            <div class="flex items-center gap-3 mb-2">
                <div class="p-2 bg-primary-500/10 rounded-lg text-primary-400">
                    <svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19.428 15.428a2 2 0 00-1.022-.547l-2.384-.477a6 6 0 00-3.86.517l-.318.158a6 6 0 01-3.86.517L6.05 15.21a2 2 0 00-1.806.547M8 4h8l-1 1v5.172a2 2 0 00.586 1.414l5 5c1.26 1.26.367 3.414-1.415 3.414H4.828c-1.782 0-2.674-2.154-1.414-3.414l5-5A2 2 0 009 10.172V5L8 4z" />
                    </svg>
                </div>
                <div>
                    <h2 class="text-2xl font-bold text-white">æ ¸å¿ƒè§€å¿µå¯¦é©—å®¤</h2>
                    <p class="text-slate-400 text-sm">Frequency-Period Converter</p>
                </div>
            </div>

            <div class="bg-slate-800 rounded-2xl overflow-hidden border border-slate-700 shadow-xl">
                <div class="bg-slate-850 p-6 border-b border-slate-700">
                    <h3 class="font-bold text-lg mb-2 text-primary-300">æ™‚è„ˆé »ç‡èˆ‡é€±æœŸè½‰æ›å™¨</h3>
                    <p class="text-slate-400 text-sm mb-4">æŒæ¡é »ç‡ (Hz) èˆ‡æ™‚é–“ (ç§’) äº’ç‚ºå€’æ•¸çš„é—œä¿‚ï¼Œç†Ÿæ‚‰å¾®è§€æ™‚é–“å–®ä½ã€‚</p>
                    
                    <div class="flex flex-col sm:flex-row gap-4 items-end bg-slate-900/50 p-4 rounded-xl border border-slate-700/50">
                        <div class="w-full sm:w-1/2">
                            <label class="block text-xs font-bold text-slate-500 uppercase mb-1">è¼¸å…¥é »ç‡æ•¸å€¼</label>
                            <input type="number" id="lab-input-val" value="100" class="w-full bg-slate-800 border border-slate-600 rounded-lg px-4 py-2 text-white focus:outline-none focus:border-primary-500 focus:ring-1 focus:ring-primary-500 font-mono transition-all">
                        </div>
                        <div class="w-full sm:w-1/2">
                            <label class="block text-xs font-bold text-slate-500 uppercase mb-1">é¸æ“‡å–®ä½</label>
                            <select id="lab-input-unit" class="w-full bg-slate-800 border border-slate-600 rounded-lg px-4 py-2 text-white focus:outline-none focus:border-primary-500 focus:ring-1 focus:ring-primary-500 font-mono">
                                </select>
                        </div>
                    </div>
                </div>

                <div class="p-6 grid grid-cols-2 md:grid-cols-4 gap-4">
                    <div class="bg-slate-900 p-4 rounded-xl border border-slate-700 text-center group hover:border-primary-500/50 transition-colors">
                        <p class="text-xs text-slate-500 uppercase mb-1">ç§’ (s)</p>
                        <p id="res-sec" class="font-mono text-sm md:text-base text-slate-300 break-all">...</p>
                    </div>
                    <div class="bg-slate-900 p-4 rounded-xl border border-slate-700 text-center group hover:border-primary-500/50 transition-colors">
                        <p class="text-xs text-slate-500 uppercase mb-1">æ¯«ç§’ (ms)</p>
                        <p id="res-ms" class="font-mono text-lg font-bold text-primary-200">...</p>
                    </div>
                    <div class="bg-slate-900 p-4 rounded-xl border border-slate-700 text-center group hover:border-primary-500/50 transition-colors">
                        <p class="text-xs text-slate-500 uppercase mb-1">å¾®ç§’ (Âµs)</p>
                        <p id="res-us" class="font-mono text-lg font-bold text-primary-300">...</p>
                    </div>
                    <div class="bg-slate-900 p-4 rounded-xl border border-slate-700 text-center group hover:border-primary-500/50 transition-colors bg-primary-900/10">
                        <p class="text-xs text-primary-400 uppercase mb-1 font-bold">å¥ˆç§’ (ns)</p>
                        <p id="res-ns" class="font-mono text-xl font-bold text-primary-400">...</p>
                    </div>
                </div>

                <div class="bg-red-900/10 border-t border-red-900/20 p-4">
                    <h4 class="text-xs font-bold text-red-400 uppercase mb-3 flex items-center">
                        <svg class="w-4 h-4 mr-1" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z"></path></svg>
                        å¸¸è¦‹éŒ¯èª¤è­¦ç¤º
                    </h4>
                    <div id="lab-mistakes" class="grid grid-cols-1 md:grid-cols-2 gap-4">
                        </div>
                </div>
            </div>
        </section>

        <section id="comparison-matrix" class="space-y-6">
            <div class="flex items-center gap-3 mb-2">
                <div class="p-2 bg-indigo-500/10 rounded-lg text-indigo-400">
                    <svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 17v-2m3 2v-4m3 4v-6m2 10H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z" />
                    </svg>
                </div>
                <div>
                    <h2 class="text-2xl font-bold text-white">æ¯”è¼ƒçŸ©é™£</h2>
                    <p class="text-slate-400 text-sm">é‡æ¸…æ··æ·†é»ï¼šK çš„é›™é‡æ€§</p>
                </div>
            </div>

            <div class="bg-slate-800 rounded-xl border border-slate-700 overflow-hidden">
                <div class="p-4 bg-slate-850 border-b border-slate-700 flex flex-wrap gap-2" id="matrix-controls">
                    <span class="text-xs text-slate-500 font-bold uppercase py-1.5 mr-2 self-center">å¼·èª¿ç¶­åº¦ï¼š</span>
                    </div>

                <div class="overflow-x-auto">
                    <table class="w-full text-left border-collapse">
                        <thead>
                            <tr class="bg-slate-900/50 text-slate-400 text-sm uppercase tracking-wider">
                                <th class="p-4 border-b border-slate-700 w-1/4">æ¯”è¼ƒå°è±¡</th>
                                </tr>
                        </thead>
                        <tbody id="matrix-body" class="divide-y divide-slate-700">
                            </tbody>
                    </table>
                </div>
            </div>
            <p class="text-center text-xs text-slate-500">æç¤ºï¼šé»æ“Šè¡¨æ ¼åˆ—å¯å±•é–‹æŸ¥çœ‹ã€Œé™·é˜±ã€èˆ‡ã€Œåˆ¤åˆ¥å£è¨£ã€</p>
        </section>

        <section id="exam-drill" class="space-y-8">
            <div class="flex items-center gap-3 mb-2">
                <div class="p-2 bg-green-500/10 rounded-lg text-green-400">
                    <svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z" />
                    </svg>
                </div>
                <div>
                    <h2 class="text-2xl font-bold text-white">å¯¦æˆ°æ¼”ç·´å ´</h2>
                    <p class="text-slate-400 text-sm">Flashcards & Scenario Checks</p>
                </div>
            </div>

            <div>
                <h3 class="text-lg font-bold text-slate-300 mb-4 flex items-center">
                    <span class="w-1.5 h-6 bg-primary-500 mr-2 rounded-full"></span>
                    è§€å¿µé–ƒç¤ºå¡
                </h3>
                <div class="grid grid-cols-2 md:grid-cols-3 gap-4" id="flashcards-container">
                    </div>
            </div>

            <div class="bg-slate-800 rounded-xl p-6 border border-slate-700">
                <h3 class="text-lg font-bold text-slate-300 mb-6 flex items-center">
                    <span class="w-1.5 h-6 bg-green-500 mr-2 rounded-full"></span>
                    æƒ…å¢ƒé™·é˜±é¡Œ
                </h3>
                <div class="space-y-6" id="scenario-container">
                    </div>
            </div>
        </section>

        <section id="appendix" class="border-t border-slate-700 pt-8">
            <div class="group cursor-pointer" onclick="toggleAppendix()">
                <div class="flex items-center justify-between text-slate-500 hover:text-slate-300 transition-colors">
                    <h2 class="text-lg font-bold">é™„éŒ„ï¼šæˆ‘çš„åŸå§‹ç­†è¨˜</h2>
                    <svg id="appendix-icon" class="w-5 h-5 transform transition-transform" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 9l-7 7-7-7" />
                    </svg>
                </div>
            </div>
            <div id="appendix-content" class="hidden mt-4 bg-slate-950 p-6 rounded-lg border border-slate-800 font-mono text-sm text-slate-400 overflow-x-auto shadow-inner">
                <pre class="whitespace-pre-wrap leading-relaxed" id="raw-notes">...</pre>
            </div>
        </section>

        <footer class="text-center text-slate-600 text-sm py-8">
            <p>Generated by AI EdTech Assistant â€¢ Focus on Content Structure</p>
        </footer>

    </div>

    <script>
        // --- 1. DATA (Injected from Step 1) ---
        const DATA = {
          "chapter_positioning": {
            "one_sentence": "æœ¬ç« ä½œç‚ºã€Œé›»è…¦ç¡¬é«”è¦æ ¼ã€èˆ‡ã€Œå¯¦éš›æ•ˆèƒ½è¡¨ç¾ã€çš„ç¿»è­¯æ©‹æ¨‘ï¼Œå»ºç«‹é‡åŒ–é›»è…¦é€Ÿåº¦ï¼ˆæ¥µå¿«ï¼‰èˆ‡å®¹é‡ï¼ˆæ¥µå¤§ï¼‰çš„æ¨™æº–èªè¨€ã€‚",
            "prerequisites": [
              "åŸºç¤æŒ‡æ•¸é‹ç®—",
              "åé€²ä½èˆ‡äºŒé€²ä½åŸºæœ¬æ¦‚å¿µ"
            ],
            "downstream_links": [
              "ç¬¬ä¸‰ç«  CPU æ•ˆèƒ½è¨ˆç®— (MIPS)",
              "ç¶²è·¯å‚³è¼¸é »å¯¬è¨ˆç®—",
              "ç¡¬ç¢Ÿå­˜å–æ™‚é–“èˆ‡å®¹é‡è¨ˆç®—"
            ]
          },
          "keywords": [
            {
              "term": "K (Kilo) çš„é›™é‡æ€§",
              "why_important": "é›»è…¦ç§‘å­¸ä¸­å”¯ä¸€å…·å‚™å…©ç¨®æ•¸å€¼å®šç¾©çš„ç¸®å¯«ï¼Œæ˜¯è€ƒè©¦ä¸­æ¥µæ˜“æ··æ·†çš„é™·é˜±ã€‚",
              "common_exam_angle": "åˆ¤æ–·é¡Œç›®æƒ…å¢ƒï¼ˆå¦‚è¨˜æ†¶é«” vs ç¶²è·¯é€Ÿåº¦ï¼‰æ‡‰ä»£å…¥ 1024 æˆ– 1000 é€²è¡Œè¨ˆç®—ã€‚"
            },
            {
              "term": "å¾®è§€æ™‚é–“å–®ä½ (Micro-time)",
              "why_important": "æè¿° CPU æŒ‡ä»¤é€±æœŸ (Machine Cycle) çš„åŸºç¤ï¼Œæ¶‰åŠæ¥µå°æ•¸å€¼çš„é‹ç®—ã€‚",
              "common_exam_angle": "é »ç‡ (Hz) èˆ‡æ™‚é–“ (ç§’) çš„å€’æ•¸é—œä¿‚è¨ˆç®—ï¼Œå¦‚ 100MHz å°æ‡‰ 10nsã€‚"
            },
            {
              "term": "è³‡æ–™éšå±¤ (Data Hierarchy)",
              "why_important": "ç†è§£å¾ Bit åˆ° YB çš„æŒ‡æ•¸ç´šå¢é•·ï¼Œæ˜¯å¤§æ•¸æ“šå„²å­˜çš„åŸºç¤ã€‚",
              "common_exam_angle": "å–®ä½æ›ç®—é †åºèˆ‡ 1 Byte = 8 Bits çš„åŸºç¤å®šç¾©ã€‚"
            }
          ],
          "weighting": {
            "basis": "estimate",
            "items": [
              {
                "topic": "äºŒé€²ä½èˆ‡åé€²ä½ K çš„å€è¾¨",
                "weight": 50,
                "reason": "ä¾†æºè³‡æ–™æ¨™ç¤ºç‚ºã€Œæœ€æ ¸å¿ƒè§€é»ã€åŠã€Œæ˜“éŒ¯é»ã€ï¼Œæ¶‰åŠè¨˜æ†¶é«”èˆ‡å‚³è¼¸é€Ÿç‡çš„æ ¹æœ¬å·®ç•°ã€‚"
              },
              {
                "topic": "é »ç‡èˆ‡æ™‚é–“äº’æ›è¨ˆç®—",
                "weight": 30,
                "reason": "é€£æ¥å¾ŒçºŒ CPU æ•ˆèƒ½è¨ˆç®— (MIPS) çš„å¿…è¦é‚è¼¯ï¼Œå…·å‚™æ˜ç¢ºç®—è¡“è¦å‰‡ã€‚"
              },
              {
                "topic": "å„²å­˜å–®ä½éšå±¤ (Bit-YB)",
                "weight": 20,
                "reason": "åŸºç¤è¨˜æ†¶æ€§çŸ¥è­˜ï¼Œå±¬æ–¼åŸºæœ¬ç´ é¤Šé¡Œã€‚"
              }
            ]
          },
          "comparison_matrix": {
            "title": "é›»è…¦ç§‘å­¸ä¸­ã€ŒKã€çš„å…©ç¨®å®šç¾©æ¯”è¼ƒ",
            "dimensions": [
              "å®šç¾©åŸºåº•",
              "ç²¾ç¢ºæ•¸å€¼",
              "é©ç”¨é ˜åŸŸ",
              "å¸¸è¦‹å–®ä½ç¯„ä¾‹"
            ],
            "rows": [
              {
                "name": "äºŒé€²ä½åˆ¶çš„ K (Binary K)",
                "values": {
                  "å®šç¾©åŸºåº•": "2^10",
                  "ç²¾ç¢ºæ•¸å€¼": "1024",
                  "é©ç”¨é ˜åŸŸ": "é›»è…¦å…§éƒ¨å®šå€ã€ä½œæ¥­ç³»çµ±é¡¯ç¤ºå®¹é‡ã€ä¸»è¨˜æ†¶é«” (RAM)",
                  "å¸¸è¦‹å–®ä½ç¯„ä¾‹": "KB (KiloByte), KiB"
                },
                "pitfall": "è¨ˆç®—è¨˜æ†¶é«”ä½å€æˆ– OS é¡¯ç¤ºæª”æ¡ˆå¤§å°æ™‚ï¼Œè‹¥èª¤ç”¨ 1000 æœƒå°è‡´ç­”æ¡ˆéŒ¯èª¤ã€‚",
                "rule_of_thumb": "çœ‹åˆ°ã€Œå„²å­˜ã€ã€ã€Œè¨˜æ†¶é«”ã€ã€ã€Œä½œæ¥­ç³»çµ±ã€ -> 1024"
              },
              {
                "name": "åé€²ä½åˆ¶çš„ K (Decimal K)",
                "values": {
                  "å®šç¾©åŸºåº•": "10^3",
                  "ç²¾ç¢ºæ•¸å€¼": "1000",
                  "é©ç”¨é ˜åŸŸ": "æ™‚è„ˆé »ç‡ã€ç¶²è·¯å‚³è¼¸é€Ÿç‡ã€ç¡¬ç¢Ÿå» å•†æ¨™ç¤ºå®¹é‡",
                  "å¸¸è¦‹å–®ä½ç¯„ä¾‹": "kHz, kbps (bit per second)"
                },
                "pitfall": "è¨ˆç®—ç¶²è·¯é€Ÿåº¦æˆ– CPU æ™‚è„ˆæ™‚ï¼Œè‹¥èª¤ç”¨ 1024 æœƒå°è‡´è¨ˆç®—è®Šå¾—ä¸å¿…è¦çš„è¤‡é›œä¸”éŒ¯èª¤ã€‚",
                "rule_of_thumb": "çœ‹åˆ°ã€Œé€Ÿåº¦ã€ã€ã€Œé »ç‡ (Hz)ã€ã€ã€Œå‚³è¼¸ (bps)ã€ -> 1000"
              }
            ]
          },
          "core_concept_lab": {
            "chosen_concept": "æ™‚è„ˆé »ç‡èˆ‡é€±æœŸè½‰æ›å™¨ (Frequency-Period Converter)",
            "type": "calculator",
            "learning_objective": "æŒæ¡é »ç‡ (Hz) èˆ‡æ™‚é–“ (ç§’) äº’ç‚ºå€’æ•¸çš„é—œä¿‚ï¼Œä¸¦ç†Ÿæ‚‰å¥ˆç§’ (ns)ã€å¾®ç§’ (Âµs) ç­‰å–®ä½æ›ç®—ã€‚",
            "inputs": [
              { "id": "freq_val", "label": "è¼¸å…¥é »ç‡æ•¸å€¼", "type": "number", "default": "100" },
              { "id": "freq_unit", "label": "é¸æ“‡é »ç‡å–®ä½", "type": "select", "options": [ "Hz", "kHz (10^3)", "MHz (10^6)", "GHz (10^9)" ], "default": "MHz (10^6)" }
            ],
            "common_mistakes": [
              { "mistake": "æ··æ·† MHz èˆ‡ GHz çš„æ¬¡æ–¹", "why_wrong": "M æ˜¯ 10^6ï¼ŒG æ˜¯ 10^9ï¼Œå·®äº† 1000 å€ (10^3)ã€‚", "how_to_fix": "è¨˜æ†¶å£è¨£ï¼šM (Million, ç™¾è¬), G (Giga, åå„„)ã€‚" },
              { "mistake": "è¨ˆç®—å€’æ•¸æ™‚å°æ•¸é»ç§»ä½éŒ¯èª¤", "why_wrong": "1/100M = 10^-8ï¼Œå¸¸è¢«èª¤ç®—ç‚º 10^-7 æˆ– 10^-9ã€‚", "how_to_fix": "å…ˆå¯«æˆæŒ‡æ•¸å½¢å¼ 1 / (1 * 10^8) = 10^-8ï¼Œå†å°æ‡‰å–®ä½ (10ns)ã€‚" }
            ]
          },
          "flashcards": [
            { "front": "è¨˜æ†¶é«”å®¹é‡çš„ K å®šç¾©", "back": "å®šç¾©ç‚º 2^10 = 1024ã€‚ç”¨æ–¼é›»è…¦å…§éƒ¨å®šå€èˆ‡å„²å­˜å®¹é‡è¨ˆç®— (KB, MB, GB)ã€‚" },
            { "front": "å‚³è¼¸é€Ÿç‡/é »ç‡çš„ K å®šç¾©", "back": "å®šç¾©ç‚º 10^3 = 1000ã€‚ç”¨æ–¼ CPU æ™‚è„ˆ (Hz) æˆ–ç¶²è·¯é€Ÿåº¦ (bps)ã€‚" },
            { "front": "æ¯«ç§’ (ms)", "back": "10^-3 ç§’ (åƒåˆ†ä¹‹ä¸€ç§’)ã€‚" },
            { "front": "å¾®ç§’ (Âµs)", "back": "10^-6 ç§’ (ç™¾è¬åˆ†ä¹‹ä¸€ç§’)ã€‚" },
            { "front": "å¥ˆç§’ (ns)", "back": "10^-9 ç§’ (åå„„åˆ†ä¹‹ä¸€ç§’)ã€‚å¸¸ç”¨æ–¼æè¿°ç¾ä»£ CPU çš„æ™‚è„ˆé€±æœŸã€‚" },
            { "front": "1 Byte (ä½å…ƒçµ„)", "back": "ç­‰æ–¼ 8 Bits (ä½å…ƒ)ã€‚è³‡æ–™å„²å­˜çš„åŸºç¤å–®ä½ã€‚" }
          ],
          "scenario_checks": [
            { "statement": "è³¼è²·æ¨™ç¤º 1TB çš„ç¡¬ç¢Ÿï¼Œæ¥ä¸Šé›»è…¦å¾Œé¡¯ç¤ºå®¹é‡ä¹Ÿæ˜¯ 1TB (1024 GB)ã€‚", "answer": "X", "explanation": "éŒ¯ã€‚å» å•†ç”¨åé€²ä½ (10^12) æ¨™ç¤ºï¼Œä½œæ¥­ç³»çµ±ç”¨äºŒé€²ä½ (2^40) è¨ˆç®—ã€‚10^12 bytes ç´„ç­‰æ–¼ 0.909 TiBï¼Œæ•…é¡¯ç¤ºå®¹é‡æœƒç¸®æ°´ã€‚" },
            { "statement": "æŸ CPU æ™‚è„ˆç‚º 2GHzï¼Œä»£è¡¨å…¶æ™‚è„ˆé€±æœŸç‚º 0.5 nsã€‚", "answer": "O", "explanation": "å°ã€‚T = 1/f = 1 / (2 * 10^9) = 0.5 * 10^-9 ç§’ = 0.5 nsã€‚" },
            { "statement": "ç¶²è·¯é€Ÿåº¦ 100 Mbps çš„ 'M' èˆ‡ è¨˜æ†¶é«” 100 MB çš„ 'M' ä»£è¡¨ç›¸åŒçš„æ•¸å€¼å¤§å°ã€‚", "answer": "X", "explanation": "éŒ¯ã€‚ç¶²é€Ÿçš„ M æ˜¯ 10^6 (1,000,000)ï¼›è¨˜æ†¶é«”çš„ M æ˜¯ 2^20 (1,048,576)ã€‚" }
          ],
          "original_notes_for_appendix": "åœ¨ã€Œç¬¬ä¸€ç«  è¨ˆç®—æ©ŸåŸºç¤ã€çš„å®è§€èƒŒæ™¯ä¸‹ï¼Œä¾†æºè³‡æ–™å°‡**ã€Œè¨ˆé‡å–®ä½èˆ‡ç¸®å¯« (1-3)ã€è¦–ç‚ºé‡åŒ–é›»è…¦ç‰¹æ€§ï¼ˆé€Ÿåº¦èˆ‡å®¹é‡ï¼‰çš„æ¨™æº–èªè¨€ã€‚é€™éƒ¨åˆ†å…§å®¹ä¸¦éåƒ…æ˜¯å–®ç´”çš„å–®ä½æ›ç®—è¡¨ï¼Œè€Œæ˜¯ç‚ºäº†è®“å­¸ç¿’è€…èƒ½å¤ ç²¾ç¢ºæè¿°é›»è…¦ã€Œé€Ÿåº¦æ¥µå¿«ã€èˆ‡ã€Œå®¹é‡æ¥µå¤§ã€**é€™å…©å¤§æ ¸å¿ƒç‰¹æ€§ã€‚\næ ¹æ“šä¾†æºè³‡æ–™ï¼Œæˆ‘å€‘å¯ä»¥å¾ä»¥ä¸‹ä¸‰å€‹é—œéµè¦–è§’ä¾†è¨è«–é€™ä¸€ä¸»é¡Œï¼š\n1. å»ºç«‹ã€ŒäºŒé€²ä½ã€èˆ‡ã€Œåé€²ä½ã€çš„é‚Šç•Œæ„è­˜\né€™æ˜¯æœ¬ç¯€æœ€æ ¸å¿ƒçš„è§€é»ã€‚ä¾†æºè³‡æ–™ç‰¹åˆ¥å¼·èª¿äº† \"K\" (Kilo) é€™å€‹ç¸®å¯«åœ¨é›»è…¦ç§‘å­¸ä¸­çš„é›™é‡å®šç¾©ï¼Œä¸¦å°‡å…¶åˆ—ç‚ºè€ƒè©¦çš„æ˜“éŒ¯é»èˆ‡é‡é»ã€‚\nâ€¢ è¨˜æ†¶é«”å®¹é‡çš„ Kï¼šå®šç¾©ç‚º 2^10 =1024ã€‚ä¾†æºæŒ‡å‡ºï¼Œé›»è…¦å…§éƒ¨çš„å®šå€èˆ‡å„²å­˜æ˜¯ä»¥äºŒé€²ä½ç‚ºåŸºç¤ï¼Œå› æ­¤ KB, MB, GB, TB å‡æ˜¯ä»¥ 2^10 çš„å€æ•¸æ™‰ç´šã€‚\nâ€¢ ä¸€èˆ¬è¨ˆé‡èˆ‡å‚³è¼¸çš„ Kï¼šå®šç¾©ç‚º 10^3 =1000ã€‚ä¾†æºç‰¹åˆ¥æé†’ï¼Œåœ¨æè¿°å‚³è¼¸é€Ÿç‡ (bps) æˆ–CPU æ™‚è„ˆ (Hz) æ™‚ï¼ŒK ä»£è¡¨çš„æ˜¯ 1000ã€‚\nâ€¢ ç¾å¯¦è½å·®çš„è§£é‡‹ï¼šä¾†æºåˆ©ç”¨é€™å€‹è§€å¿µè§£é‡‹äº†å¸¸è¦‹çš„ã€Œç¡¬ç¢Ÿå®¹é‡ç¸®æ°´ã€ç¾è±¡â€”â€”å› ç‚ºå» å•†è£½é€ ç¡¬ç¢Ÿæ™‚ä½¿ç”¨åé€²ä½ (10^3) æ¨™ç¤ºï¼Œä½†ä½œæ¥­ç³»çµ±é¡¯ç¤ºæ™‚ä½¿ç”¨äºŒé€²ä½ (2^10) è¨ˆç®—ï¼Œå°è‡´æ¨™ç¤ºå®¹é‡èˆ‡å¯¦éš›é¡¯ç¤ºå®¹é‡æœ‰è½å·®ã€‚\n2. å¾®è§€æ™‚é–“çš„é‡åŒ–æ¨™æº–\nç‚ºäº†æè¿°é›»è…¦é©šäººçš„é‹ç®—é€Ÿåº¦ï¼Œä¾†æºè³‡æ–™å¼•å…¥äº†æ¥µå¾®å°çš„æ™‚é–“å–®ä½ã€‚é€™ä¸åƒ…æ˜¯å®šç¾©ï¼Œæ›´æ˜¯ç‚ºäº†å¾ŒçºŒè¨ˆç®— CPU æŒ‡ä»¤é€±æœŸ (Machine Cycle) é‹ªè·¯ã€‚\nâ€¢ å–®ä½çš„å±¤ç´šï¼šå¾ æ¯«ç§’ (ms, 10^-3)ã€å¾®ç§’ (Î¼s, 10^-6)ã€å¥ˆç§’ (ns, 10^-9) åˆ° çš®ç§’ (ps, 10^-12)ã€‚\nâ€¢ é »ç‡èˆ‡æ™‚é–“çš„äº’æ›ï¼šä¾†æºåœ¨æ­¤è™•å»ºç«‹äº†ä¸€å€‹é‡è¦çš„é‹ç®—é‚è¼¯â€”â€”é »ç‡ (Hz) èˆ‡æ™‚é–“ (ç§’) äº’ç‚ºå€’æ•¸ã€‚ä¾‹å¦‚ï¼Œè‹¥ CPU é€Ÿåº¦ç‚º 100MHzï¼Œå‰‡å…¶ä¸€å€‹æ™‚è„ˆé€±æœŸ (clock cycle) ç‚º 1/100M=10^-8 ç§’ï¼Œä¹Ÿå°±æ˜¯ 10nsã€‚é€™ç›´æ¥é€£çµåˆ°äº†å¾ŒçºŒç¬¬ä¸‰ç« é—œæ–¼ CPU æ•ˆèƒ½ (MIPS) çš„è¨ˆç®—ã€‚\n3. è³‡æ–™å®¹é‡çš„å®è§€éšå±¤\nä¾†æºè³‡æ–™åˆ—å‡ºäº†å¾ Bit (ä½å…ƒ) åˆ° YB (Yottabyte) çš„å®Œæ•´éšå±¤ï¼Œå±•ç¤ºäº†é›»è…¦å„²å­˜èƒ½åŠ›çš„æŒ‡æ•¸ç´šå¢é•·ã€‚\nâ€¢ åŸºç¤å®šç¾©ï¼šç¢ºç«‹äº† 1 Byte = 8 Bits çš„éµå¾‹ï¼Œé€™æ˜¯æ‰€æœ‰è³‡æ–™å„²å­˜çš„åŸºç¤å–®ä½ã€‚\nâ€¢ å–®ä½çš„æ¼”é€²ï¼šé™¤äº†å¸¸è¦‹çš„ KB, MB, GBï¼Œä¾†æºé‚„åˆ—å‡ºäº† TB, PB, EB, ZB, YBï¼Œé€™åæ˜ äº†ã€Œå¤§æ•¸æ“šã€æ™‚ä»£å°å„²å­˜å–®ä½èªçŸ¥çš„éœ€æ±‚æ“´å¼µã€‚\nç¸½çµ\nåœ¨ç¬¬ä¸€ç« çš„è„ˆçµ¡ä¸­ï¼Œã€Œè¨ˆé‡å–®ä½èˆ‡ç¸®å¯«ã€è¢«è¦–ç‚ºé€£æ¥ã€Œç¡¬é«”è¦æ ¼ã€èˆ‡ã€Œå¯¦éš›æ•ˆèƒ½ã€çš„æ©‹æ¨‘ã€‚å®ƒè¦æ±‚å­¸ç”Ÿä¸åƒ…è¦æœƒèƒŒèª¦å–®ä½è¡¨ï¼Œæ›´è¦å…·å‚™**ã€Œæƒ…å¢ƒåˆ¤æ–·èƒ½åŠ›ã€**â€”â€”çœ‹åˆ°ã€Œè¨˜æ†¶é«”ã€å°±è¦è¯æƒ³åˆ° 1024ï¼Œçœ‹åˆ°ã€Œç¶²è·¯é€Ÿåº¦ã€æˆ–ã€Œæ™‚è„ˆã€å°±è¦è¯æƒ³åˆ° 1000ã€‚é€™ç¨®å€è¾¨èƒ½åŠ›æ˜¯ç†è§£å¾ŒçºŒç« ç¯€ï¼ˆå¦‚ç¶²è·¯é »å¯¬è¨ˆç®—ã€ç¡¬ç¢Ÿå­˜å–æ™‚é–“ï¼‰çš„å¿…è¦åŸºç¤ã€‚"
        };

        // --- 2. UTILS ---
        const fmtMath = (str) => {
            if(!str) return "";
            return str.replace(/\^(\-?\d+)/g, "<sup>$1</sup>");
        };

        // --- 3. RENDERERS ---

        // Module A: Strategic Dashboard
        const renderDashboard = () => {
            // Positioning
            document.getElementById('position-text').textContent = DATA.chapter_positioning.one_sentence;
            document.getElementById('prereq-list').textContent = DATA.chapter_positioning.prerequisites.join(", ");
            document.getElementById('downstream-list').textContent = DATA.chapter_positioning.downstream_links.join(", ");

            // Weighting
            const chartContainer = document.getElementById('weight-chart');
            DATA.weighting.items.forEach(item => {
                const row = document.createElement('div');
                row.className = "group";
                row.innerHTML = `
                    <div class="flex justify-between text-xs text-slate-400 mb-1 group-hover:text-primary-300 transition-colors">
                        <span>${item.topic}</span>
                        <span>${item.weight}%</span>
                    </div>
                    <div class="w-full bg-slate-700 rounded-full h-2 overflow-hidden">
                        <div class="bg-primary-500 h-2 rounded-full transition-all duration-1000 ease-out" style="width: 0%" data-width="${item.weight}%"></div>
                    </div>
                `;
                chartContainer.appendChild(row);
                // Animate
                setTimeout(() => {
                    row.querySelector('div.bg-primary-500').style.width = item.weight + "%";
                }, 300);
            });

            // Keywords
            const kwContainer = document.getElementById('keyword-container');
            DATA.keywords.forEach((kw, idx) => {
                const btn = document.createElement('button');
                btn.className = "px-3 py-1.5 bg-slate-700 hover:bg-primary-600 text-slate-300 hover:text-white rounded-full text-xs font-mono transition-colors border border-slate-600 hover:border-primary-500";
                btn.textContent = kw.term;
                btn.onclick = () => showKeyword(idx, btn);
                kwContainer.appendChild(btn);
            });
        };

        const showKeyword = (index, btn) => {
            // Reset active state
            document.querySelectorAll('#keyword-container button').forEach(b => {
                b.classList.remove('bg-primary-600', 'text-white', 'border-primary-500');
                b.classList.add('bg-slate-700', 'text-slate-300', 'border-slate-600');
            });
            btn.classList.remove('bg-slate-700', 'text-slate-300', 'border-slate-600');
            btn.classList.add('bg-primary-600', 'text-white', 'border-primary-500');

            // Show details
            document.getElementById('keyword-placeholder').classList.add('hidden');
            const details = document.getElementById('keyword-detail');
            details.classList.remove('hidden');
            
            const kw = DATA.keywords[index];
            document.getElementById('kw-term').textContent = kw.term;
            document.getElementById('kw-why').textContent = kw.why_important;
            document.getElementById('kw-angle').textContent = "è€ƒé»ï¼š " + kw.common_exam_angle;
        };

        // Module B: Core Concept Lab
        const renderLab = () => {
            // Inputs
            const unitSelect = document.getElementById('lab-input-unit');
            DATA.core_concept_lab.inputs.find(i => i.id === 'freq_unit').options.forEach(opt => {
                const option = document.createElement('option');
                // Extract value from string like "MHz (10^6)"
                // Simplification for logic: assign multiplier
                let val = 1;
                if(opt.includes('kHz')) val = 1e3;
                if(opt.includes('MHz')) val = 1e6;
                if(opt.includes('GHz')) val = 1e9;
                
                option.value = val;
                option.text = opt;
                if(opt.includes('MHz')) option.selected = true; // Default per JSON
                unitSelect.appendChild(option);
            });

            // Listeners
            document.getElementById('lab-input-val').addEventListener('input', calculateLab);
            unitSelect.addEventListener('change', calculateLab);

            // Mistakes
            const mistakeContainer = document.getElementById('lab-mistakes');
            DATA.core_concept_lab.common_mistakes.forEach(m => {
                const card = document.createElement('div');
                card.className = "bg-red-950/30 p-3 rounded-lg border border-red-900/30 text-sm";
                card.innerHTML = `
                    <p class="font-bold text-red-300 mb-1">âœ• ${fmtMath(m.mistake)}</p>
                    <p class="text-slate-400 text-xs">${fmtMath(m.why_wrong)}</p>
                    <div class="mt-2 text-green-400 text-xs border-t border-red-900/30 pt-1">ğŸ’¡ ${fmtMath(m.how_to_fix)}</div>
                `;
                mistakeContainer.appendChild(card);
            });

            // Initial Calc
            calculateLab();
        };

        const calculateLab = () => {
            const val = parseFloat(document.getElementById('lab-input-val').value) || 0;
            const mult = parseFloat(document.getElementById('lab-input-unit').value);
            
            if (val === 0) {
                 ['res-sec', 'res-ms', 'res-us', 'res-ns'].forEach(id => document.getElementById(id).textContent = "-");
                 return;
            }

            const freqHz = val * mult;
            const periodSec = 1 / freqHz;

            document.getElementById('res-sec').innerHTML = fmtMath(periodSec.toExponential(2).replace("e", " x 10^")) + " s";
            
            // Conversions
            const ms = periodSec * 1e3;
            const us = periodSec * 1e6;
            const ns = periodSec * 1e9;

            // Formatter
            const fmt = (num) => {
                if(num >= 10000 || num < 0.001) return num.toExponential(2).replace("e", "e"); // scientific for extremes
                return Number(num.toPrecision(4)); // readable for normal
            };

            document.getElementById('res-ms').textContent = fmt(ms);
            document.getElementById('res-us').textContent = fmt(us);
            document.getElementById('res-ns').textContent = fmt(ns);
        };

        // Module D: Comparison Matrix
        const renderMatrix = () => {
            const matrix = DATA.comparison_matrix;
            
            // Dimension Chips
            const dimContainer = document.getElementById('matrix-controls');
            matrix.dimensions.forEach((dim, idx) => {
                const btn = document.createElement('button');
                btn.className = "px-3 py-1 bg-slate-800 text-slate-400 border border-slate-600 rounded text-xs hover:bg-indigo-900/50 hover:text-indigo-300 hover:border-indigo-500/50 transition-all";
                btn.textContent = dim;
                btn.onclick = () => highlightMatrixCol(idx + 1, btn); // +1 because index 0 is row header
                dimContainer.appendChild(btn);
            });

            // Headers
            const theadTr = document.querySelector('#comparison-matrix thead tr');
            matrix.dimensions.forEach(dim => {
                const th = document.createElement('th');
                th.className = "p-4 border-b border-slate-700";
                th.textContent = dim;
                theadTr.appendChild(th);
            });

            // Body
            const tbody = document.getElementById('matrix-body');
            matrix.rows.forEach(row => {
                // Main Row
                const tr = document.createElement('tr');
                tr.className = "cursor-pointer hover:bg-slate-800/50 transition-colors group";
                tr.onclick = function() { this.nextElementSibling.classList.toggle('hidden'); };
                
                // Row Header
                let html = `<td class="p-4 font-bold text-white border-b border-slate-700/50 flex items-center justify-between">
                                ${row.name}
                                <svg class="w-4 h-4 text-slate-600 group-hover:text-primary-400" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 9l-7 7-7-7"/></svg>
                            </td>`;
                
                // Values
                matrix.dimensions.forEach((dim, idx) => {
                    html += `<td class="p-4 border-b border-slate-700/50 font-mono text-sm text-slate-300 col-cell col-${idx+1}">${fmtMath(row.values[dim])}</td>`;
                });
                tr.innerHTML = html;
                tbody.appendChild(tr);

                // Expansion Row
                const expTr = document.createElement('tr');
                expTr.className = "hidden bg-slate-900/80";
                expTr.innerHTML = `
                    <td colspan="${matrix.dimensions.length + 1}" class="p-4 border-b border-slate-700/50">
                        <div class="flex flex-col md:flex-row gap-4 text-sm">
                            <div class="flex-1 bg-red-900/10 p-3 rounded border border-red-900/20">
                                <span class="text-red-400 font-bold block mb-1">âš ï¸ é™·é˜± (Pitfall)</span>
                                <span class="text-slate-400">${row.pitfall}</span>
                            </div>
                            <div class="flex-1 bg-green-900/10 p-3 rounded border border-green-900/20">
                                <span class="text-green-400 font-bold block mb-1">ğŸ‘ åˆ¤åˆ¥å£è¨£ (Rule of Thumb)</span>
                                <span class="text-slate-400">${row.rule_of_thumb}</span>
                            </div>
                        </div>
                    </td>
                `;
                tbody.appendChild(expTr);
            });
        };

        const highlightMatrixCol = (colIdx, btn) => {
            // Reset Buttons
            document.querySelectorAll('#matrix-controls button').forEach(b => {
                b.classList.remove('bg-indigo-600', 'text-white', 'border-indigo-500');
                b.classList.add('bg-slate-800', 'text-slate-400', 'border-slate-600');
            });
            // Activate Button
            btn.classList.remove('bg-slate-800', 'text-slate-400', 'border-slate-600');
            btn.classList.add('bg-indigo-600', 'text-white', 'border-indigo-500');

            // Reset Cells
            document.querySelectorAll('.col-cell').forEach(td => td.classList.remove('text-indigo-300', 'font-bold', 'bg-indigo-900/10'));
            
            // Highlight Cells
            document.querySelectorAll(`.col-${colIdx}`).forEach(td => {
                td.classList.add('text-indigo-300', 'font-bold', 'bg-indigo-900/10');
            });
        };

        // Module C: Exam Drill
        const renderDrill = () => {
            // Flashcards
            const fcContainer = document.getElementById('flashcards-container');
            DATA.flashcards.forEach(card => {
                const el = document.createElement('div');
                el.className = "group h-40 w-full perspective-1000 cursor-pointer";
                el.innerHTML = `
                    <div class="relative w-full h-full text-center transition-all duration-500 transform-style-3d shadow-lg rounded-xl border border-slate-700 group-hover:border-primary-500/50" onclick="this.classList.toggle('rotate-y-180')">
                        <div class="absolute w-full h-full flex items-center justify-center p-4 bg-slate-800 backface-hidden rounded-xl">
                            <p class="font-bold text-slate-200 text-lg">${fmtMath(card.front)}</p>
                            <span class="absolute bottom-2 right-2 text-xs text-slate-600">é»æ“Šç¿»é¢</span>
                        </div>
                        <div class="absolute w-full h-full flex items-center justify-center p-4 bg-slate-900 backface-hidden rotate-y-180 rounded-xl border-2 border-primary-900">
                            <p class="text-sm text-slate-300 leading-relaxed text-left">${fmtMath(card.back)}</p>
                        </div>
                    </div>
                `;
                fcContainer.appendChild(el);
            });

            // Scenarios
            const scContainer = document.getElementById('scenario-container');
            DATA.scenario_checks.forEach((sc, idx) => {
                const el = document.createElement('div');
                el.className = "p-4 bg-slate-900 rounded-lg border border-slate-700";
                el.innerHTML = `
                    <div class="flex items-start gap-3 mb-4">
                        <span class="flex-shrink-0 w-6 h-6 rounded-full bg-slate-800 text-slate-500 flex items-center justify-center text-xs font-mono border border-slate-700">${idx + 1}</span>
                        <p class="text-slate-200">${fmtMath(sc.statement)}</p>
                    </div>
                    <div class="flex gap-3 pl-9">
                        <button onclick="checkScenario(this, '${sc.answer}', true)" class="flex-1 py-2 bg-slate-800 hover:bg-slate-700 border border-slate-600 rounded text-slate-300 font-bold transition-colors">O (True)</button>
                        <button onclick="checkScenario(this, '${sc.answer}', false)" class="flex-1 py-2 bg-slate-800 hover:bg-slate-700 border border-slate-600 rounded text-slate-300 font-bold transition-colors">X (False)</button>
                    </div>
                    <div class="hidden mt-4 pl-9 p-3 rounded bg-slate-950 border text-sm feedback-box">
                        <p class="font-bold mb-1 result-title"></p>
                        <p class="text-slate-400 explanation">${fmtMath(sc.explanation)}</p>
                    </div>
                `;
                scContainer.appendChild(el);
            });
        };

        const checkScenario = (btn, correctAnswer, isTrueBtn) => {
            const parent = btn.parentElement.parentElement;
            const feedback = parent.querySelector('.feedback-box');
            const resultTitle = parent.querySelector('.result-title');
            const explanation = parent.querySelector('.explanation');
            
            const userChoice = isTrueBtn ? 'O' : 'X';
            const isCorrect = userChoice === correctAnswer;

            feedback.classList.remove('hidden', 'border-green-900', 'border-red-900', 'bg-green-900/10', 'bg-red-900/10');
            resultTitle.className = "font-bold mb-1 result-title"; // reset

            if(isCorrect) {
                feedback.classList.add('border-green-900', 'bg-green-900/10');
                resultTitle.classList.add('text-green-400');
                resultTitle.innerHTML = `âœ… æ­£ç¢ºï¼ç­”æ¡ˆæ˜¯ ${correctAnswer}`;
            } else {
                feedback.classList.add('border-red-900', 'bg-red-900/10');
                resultTitle.classList.add('text-red-400');
                resultTitle.innerHTML = `âŒ ç­”éŒ¯äº†ã€‚ç­”æ¡ˆæ˜¯ ${correctAnswer}`;
            }
        };

        // Module E: Appendix
        const renderAppendix = () => {
            document.getElementById('raw-notes').textContent = DATA.original_notes_for_appendix;
        };

        const toggleAppendix = () => {
            const content = document.getElementById('appendix-content');
            const icon = document.getElementById('appendix-icon');
            content.classList.toggle('hidden');
            if(content.classList.contains('hidden')) {
                icon.classList.remove('rotate-180');
            } else {
                icon.classList.add('rotate-180');
            }
        };

        // --- INIT ---
        window.addEventListener('DOMContentLoaded', () => {
            renderDashboard();
            renderLab();
            renderMatrix();
            renderDrill();
            renderAppendix();
        });

    </script>
</body>
</html>